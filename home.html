<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentación Técnica Sistema SavvyLink</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .header {
            background: #2563eb;
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 250px;
            height: 100vh;
            background: #f8f9fa;
            border-right: 1px solid #ddd;
            overflow-y: auto;
            padding-top: 1rem;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-link {
            display: block;
            padding: 0.75rem 1rem;
            text-decoration: none;
            color: #666;
            border-left: 3px solid transparent;
            transition: all 0.3s;
        }

        .nav-link:hover {
            background: #e9ecef;
            color: #2563eb;
            border-left-color: #2563eb;
        }

        .nav-link.active {
            background: #e7f1ff;
            color: #2563eb;
            border-left-color: #2563eb;
        }

        .main-content {
            margin-left: 250px;
            padding: 2rem;
        }

        .section {
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #eee;
        }

        .section h2 {
            color: #2563eb;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .section h3 {
            color: #444;
            margin: 1.5rem 0 1rem 0;
            font-size: 1.2rem;
        }

        .section p {
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        .section ul {
            margin: 1rem 0;
            padding-left: 2rem;
        }

        .section li {
            margin-bottom: 0.5rem;
        }

        .media-container {
            margin: 1.5rem 0;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            background: #f8f9fa;
            padding: 1rem;
            text-align: center;
            position: relative;
        }

        .media-container iframe {
            width: 100%;
            height: 400px;
            border: none;
            border-radius: 4px;
        }

        .media-container img {
            max-width: 100%;
            height: auto;
            cursor: pointer;
            transition: transform 0.3s;
            border-radius: 4px;
        }

        .media-container img:hover {
            transform: scale(1.02);
        }

        .media-caption {
            margin-top: 1rem;
            padding: 0.75rem;
            background: #e9ecef;
            border-radius: 4px;
            font-size: 0.9rem;
            color: #555;
            text-align: left;
        }

        .expand-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #2563eb;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .expand-btn:hover {
            background: #1d4ed8;
        }

        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            margin: 1rem 0;
            overflow-x: auto;
        }

        .info-box {
            background: #e7f1ff;
            border-left: 4px solid #2563eb;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 6px 6px 0;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 6px 6px 0;
        }

        .url-link {
            color: #2563eb;
            text-decoration: none;
            font-family: monospace;
            background: #f0f4f8;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }

        .url-link:hover {
            text-decoration: underline;
        }

        .lang-switcher {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 0.5rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .lang-btn {
            background: none;
            border: none;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-size: 1.2rem;
            transition: background 0.3s;
            border-radius: 4px;
        }

        .lang-btn:hover {
            background: #f0f0f0;
        }

        .lang-btn.active {
            background: #e7f1ff;
        }

        /* Modal para imágenes */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            cursor: zoom-out;
        }

        .modal-content {
            margin: auto;
            display: block;
            max-width: 90%;
            max-height: 90%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
        }

        .close-modal:hover {
            color: #bbb;
        }

        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }
            .main-content {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <div class="lang-switcher">
        <button class="lang-btn active" onclick="setLanguage('es')">🇪🇸 ES</button>
        <button class="lang-btn" onclick="setLanguage('en')">🇺🇸 EN</button>
    </div>

    <div class="sidebar">
        <ul class="nav-menu">
            <li><a href="#overview" class="nav-link active" data-es="1. Descripción General" data-en="1. System Overview">1. Descripción General</a></li>
            <li><a href="#setup" class="nav-link" data-es="2. Configuración Inicial" data-en="2. Initial Setup">2. Configuración Inicial</a></li>
            <li><a href="#activation" class="nav-link" data-es="3. Post-Activación" data-en="3. Post-Activation">3. Post-Activación</a></li>
            <li><a href="#users" class="nav-link" data-es="4. Gestión de Usuarios" data-en="4. User Management">4. Gestión de Usuarios</a></li>
            <li><a href="#risk" class="nav-link" data-es="5. Análisis de Riesgo" data-en="5. Risk Analysis">5. Análisis de Riesgo</a></li>
            <li><a href="#repository" class="nav-link" data-es="6. Repositorio de Contactos" data-en="6. Contact Repository">6. Repositorio de Contactos</a></li>
            <li><a href="#directory" class="nav-link" data-es="7. Directorio Público" data-en="7. Public Directory">7. Directorio Público</a></li>
            <li><a href="#support" class="nav-link" data-es="8. Soporte al Cliente" data-en="8. Customer Support">8. Soporte al Cliente</a></li>
            <li><a href="#integration" class="nav-link" data-es="9. Puntos de Integración" data-en="9. Integration Points">9. Puntos de Integración</a></li>
            <li><a href="#security" class="nav-link" data-es="10. Seguridad y Cumplimiento" data-en="10. Security & Compliance">10. Seguridad y Cumplimiento</a></li>
        </ul>
    </div>

    <div class="container">
        <div class="header">
            <h1 data-es="Sistema SavvyLink" data-en="SavvyLink System">Sistema SavvyLink</h1>
            <p data-es="Documentación Técnica v2.1" data-en="Technical Documentation v2.1">Documentación Técnica v2.1</p>
        </div>

        <div class="main-content">
            <section id="overview" class="section">
                <h2 data-es="1. Descripción General del Sistema" data-en="1. System Overview">1. Descripción General del Sistema</h2>
                <p data-es="SavvyLink es una plataforma integral de evaluación y gestión de riesgos que permite a las empresas evaluar los perfiles de riesgo de los clientes a través de flujos de trabajo automatizados e integraciones. El sistema maneja la creación de cuentas, gestión de usuarios, análisis de riesgos y proporciona un directorio público para la verificación de perfiles de riesgo." 
                   data-en="SavvyLink is a comprehensive risk assessment and management platform that enables businesses to evaluate client risk profiles through automated workflows and integrations. The system handles account creation, user management, risk analysis, and provides a public directory for risk profile verification.">
                    SavvyLink es una plataforma integral de evaluación y gestión de riesgos que permite a las empresas evaluar los perfiles de riesgo de los clientes a través de flujos de trabajo automatizados e integraciones. El sistema maneja la creación de cuentas, gestión de usuarios, análisis de riesgos y proporciona un directorio público para la verificación de perfiles de riesgo.
                </p>
            </section>

            <section id="setup" class="section">
                <h2 data-es="2. Configuración Inicial y Creación de Cuenta" data-en="2. Initial Setup and Account Creation">2. Configuración Inicial y Creación de Cuenta</h2>
                
                <div class="media-container">
                    <iframe src="https://www.loom.com/embed/c57f54cd3e354ed2a2f66e0a3d61045d" allowfullscreen></iframe>
                    <div class="media-caption" data-es="Este video muestra el proceso completo de configuración inicial, desde el acceso a la página de inicio hasta la activación de la cuenta. Es fundamental seguir cada paso para garantizar una configuración correcta del sistema."
                         data-en="This video shows the complete initial setup process, from accessing the landing page to account activation. It's essential to follow each step to ensure proper system configuration.">
                        Este video muestra el proceso completo de configuración inicial, desde el acceso a la página de inicio hasta la activación de la cuenta. Es fundamental seguir cada paso para garantizar una configuración correcta del sistema.
                    </div>
                </div>

                <h3 data-es="2.1 Acceso a la Página de Inicio" data-en="2.1 Landing Page Access">2.1 Acceso a la Página de Inicio</h3>
                
                <div class="media-container">
                    <button class="expand-btn" onclick="expandImage(this)" data-es="Ver en pantalla completa" data-en="View fullscreen">Ver en pantalla completa</button>
                    <img src="https://storage.googleapis.com/msgsndr/stoLOEGDIvEDY3xQI4B8/media/686586ce6611c0b32c3f5c0c.jpeg" alt="Landing Page" onclick="expandImage(this)">
                    <div class="media-caption" data-es="Esta es la página de inicio protegida por contraseña. Aquí los administradores inician el proceso de creación de cuenta ingresando la contraseña de acceso. La interfaz muestra claramente los campos requeridos y las opciones de segmentos de negocio disponibles."
                         data-en="This is the password-protected landing page. Here administrators begin the account creation process by entering the access password. The interface clearly shows the required fields and available business segment options.">
                        Esta es la página de inicio protegida por contraseña. Aquí los administradores inician el proceso de creación de cuenta ingresando la contraseña de acceso. La interfaz muestra claramente los campos requeridos y las opciones de segmentos de negocio disponibles.
                    </div>
                </div>

                <div class="info-box">
                    <strong>URL:</strong> <a href="https://savvylink.nilsdigital.com/inicio" class="url-link" target="_blank">https://savvylink.nilsdigital.com/inicio</a><br>
                    <strong data-es="Autenticación:" data-en="Authentication:">Autenticación:</strong> <span data-es="Protegida por contraseña" data-en="Password protected">Protegida por contraseña</span><br>
                    <strong data-es="Credenciales de acceso:" data-en="Login Credentials:">Credenciales de acceso:</strong> SL2025
                </div>

                <h3 data-es="2.2 Proceso de Creación de Cuenta" data-en="2.2 Account Creation Process">2.2 Proceso de Creación de Cuenta</h3>
                
                <div class="media-container">
                    <button class="expand-btn" onclick="expandImage(this)" data-es="Ver en pantalla completa" data-en="View fullscreen">Ver en pantalla completa</button>
                    <img src="https://storage.googleapis.com/msgsndr/stoLOEGDIvEDY3xQI4B8/media/686586cd8522133ec37abdcc.jpeg" alt="Account Creation" onclick="expandImage(this)">
                    <div class="media-caption" data-es="Formulario de checkout donde se completan los datos de la nueva cuenta. Es crucial seleccionar correctamente el segmento de negocio ya que esto determinará las configuraciones automáticas que se aplicarán posteriormente. El sistema validará todos los campos antes de proceder."
                         data-en="Checkout form where new account data is completed. It's crucial to correctly select the business segment as this will determine the automatic configurations that will be applied later. The system will validate all fields before proceeding.">
                        Formulario de checkout donde se completan los datos de la nueva cuenta. Es crucial seleccionar correctamente el segmento de negocio ya que esto determinará las configuraciones automáticas que se aplicarán posteriormente. El sistema validará todos los campos antes de proceder.
                    </div>
                </div>

                <p data-es="Para crear una nueva cuenta:" data-en="To create a new account:">Para crear una nueva cuenta:</p>
                <ul>
                    <li data-es="Navegar a la página de inicio protegida por contraseña" data-en="Navigate to the password-protected landing page">Navegar a la página de inicio protegida por contraseña</li>
                    <li data-es="Completar el formulario de checkout con la siguiente información:" data-en="Complete the checkout form with the following information:">Completar el formulario de checkout con la siguiente información:
                        <ul>
                            <li data-es="Seleccionar segmento de negocio de las opciones disponibles" data-en="Select business segment from available options">Seleccionar segmento de negocio de las opciones disponibles</li>
                            <li data-es="Ingresar nombre del cliente" data-en="Enter client name">Ingresar nombre del cliente</li>
                            <li data-es="Proporcionar dirección de correo electrónico de facturación" data-en="Provide billing email address">Proporcionar dirección de correo electrónico de facturación</li>
                        </ul>
                    </li>
                    <li data-es="Enviar formulario de checkout para crear cuenta en el backend" data-en="Submit checkout form to create backend account">Enviar formulario de checkout para crear cuenta en el backend</li>
                </ul>

                <h3 data-es="2.3 Activación de Cuenta" data-en="2.3 Account Activation">2.3 Activación de Cuenta</h3>
                
                <div class="media-container">
                    <button class="expand-btn" onclick="expandImage(this)" data-es="Ver en pantalla completa" data-en="View fullscreen">Ver en pantalla completa</button>
                    <img src="https://storage.googleapis.com/msgsndr/stoLOEGDIvEDY3xQI4B8/media/686586cdf9270758d11fbcd8.jpeg" alt="Account Activation" onclick="expandImage(this)">
                    <div class="media-caption" data-es="Email de activación que recibe el administrador. Este paso es obligatorio por razones de seguridad. El enlace de activación tiene una validez limitada y debe ser utilizado lo antes posible. Una vez activada la cuenta, se inician automáticamente todos los procesos de configuración."
                         data-en="Activation email received by the administrator. This step is mandatory for security reasons. The activation link has limited validity and should be used as soon as possible. Once the account is activated, all configuration processes start automatically.">
                        Email de activación que recibe el administrador. Este paso es obligatorio por razones de seguridad. El enlace de activación tiene una validez limitada y debe ser utilizado lo antes posible. Una vez activada la cuenta, se inician automáticamente todos los procesos de configuración.
                    </div>
                </div>

                <ul>
                    <li data-es="El sistema genera un correo de activación enviado a la dirección de correo de facturación" data-en="System generates activation email sent to the billing email address">El sistema genera un correo de activación enviado a la dirección de correo de facturación</li>
                    <li data-es="El administrador debe hacer clic en el enlace de activación en el correo para activar la cuenta" data-en="Admin must click activation link in email to activate account">El administrador debe hacer clic en el enlace de activación en el correo para activar la cuenta</li>
                </ul>

                <div class="warning-box">
                    <strong data-es="Nota de Seguridad:" data-en="Security Note:">Nota de Seguridad:</strong> 
                    <span data-es="La activación de cuenta es obligatoria para el cumplimiento de seguridad" data-en="Account activation is mandatory for security compliance">La activación de cuenta es obligatoria para el cumplimiento de seguridad</span>
                </div>
            </section>

            <section id="activation" class="section">
                <h2 data-es="3. Flujo de Trabajo Post-Activación" data-en="3. Post-Activation Workflow">3. Flujo de Trabajo Post-Activación</h2>

                <h3 data-es="3.1 Activación Automática del Flujo de Trabajo" data-en="3.1 Automatic Workflow Trigger">3.1 Activación Automática del Flujo de Trabajo</h3>
                
                <div class="media-container">
                    <button class="expand-btn" onclick="expandImage(this)" data-es="Ver en pantalla completa" data-en="View fullscreen">Ver en pantalla completa</button>
                    <img src="https://storage.googleapis.com/msgsndr/stoLOEGDIvEDY3xQI4B8/media/686586cd85221362137abdcd.jpeg" alt="Workflow Trigger" onclick="expandImage(this)">
                    <div class="media-caption" data-es="Diagrama del flujo de trabajo automático que se activa tras la activación de la cuenta. El sistema detecta el código del segmento de negocio desde la URL y ejecuta el workflow 'Agregar Administradores a la Ubicación y Actualizar Valores Personalizados'. Este proceso es completamente automático y no requiere intervención manual."
                         data-en="Diagram of the automatic workflow that triggers after account activation. The system detects the business segment code from the URL and executes the 'Add Admins to Location and Update Custom Values' workflow. This process is completely automatic and requires no manual intervention.">
                        Diagrama del flujo de trabajo automático que se activa tras la activación de la cuenta. El sistema detecta el código del segmento de negocio desde la URL y ejecuta el workflow "Agregar Administradores a la Ubicación y Actualizar Valores Personalizados". Este proceso es completamente automático y no requiere intervención manual.
                    </div>
                </div>

                <ul>
                    <li><strong data-es="Evento Disparador:" data-en="Trigger Event:">Evento Disparador:</strong> <span data-es="Activación de cuenta" data-en="Account activation">Activación de cuenta</span></li>
                    <li><strong data-es="Detección de Parámetros:" data-en="Parameter Detection:">Detección de Parámetros:</strong> <span data-es="El sistema captura el código del segmento de negocio desde la URL" data-en="System captures business segment code from URL">El sistema captura el código del segmento de negocio desde la URL</span></li>
                    <li><strong data-es="Nombre del Flujo de Trabajo:" data-en="Workflow Name:">Nombre del Flujo de Trabajo:</strong> "Add Admins to Location and Update Custom Values"</li>
                </ul>

                <h3 data-es="3.2 Procesamiento Backend" data-en="3.2 Backend Processing">3.2 Procesamiento Backend</h3>
                <ul>
                    <li><strong data-es="Ejecución de Webhook:" data-en="Webhook Execution:">Ejecución de Webhook:</strong> <span data-es="La activación desencadena webhook al sistema backend" data-en="Activation triggers webhook to backend system">La activación desencadena webhook al sistema backend</span></li>
                    <li><strong data-es="Procesamiento de ID de Ubicación:" data-en="Location ID Processing:">Procesamiento de ID de Ubicación:</strong> <span data-es="El backend verifica y valida el ID de ubicación" data-en="Backend checks and validates location ID">El backend verifica y valida el ID de ubicación</span></li>
                    <li><strong data-es="Actualizaciones de Campos Personalizados:" data-en="Custom Field Updates:">Actualizaciones de Campos Personalizados:</strong>
                        <ul>
                            <li data-es="Agrega valor del segmento de negocio al campo personalizado" data-en="Adds business segment value to custom field">Agrega valor del segmento de negocio al campo personalizado</li>
                            <li data-es="Actualiza información de subcuenta para análisis de riesgo" data-en="Updates subaccount information for risk analysis">Actualiza información de subcuenta para análisis de riesgo</li>
                        </ul>
                    </li>
                    <li><strong data-es="Asignación de Administradores:" data-en="Admin Assignment:">Asignación de Administradores:</strong> <span data-es="Todos los administradores designados se agregan automáticamente a la subcuenta" data-en="All designated admins are automatically added to subaccount">Todos los administradores designados se agregan automáticamente a la subcuenta</span></li>
                    <li><strong data-es="Coincidencia en Base de Datos:" data-en="Database Matching:">Coincidencia en Base de Datos:</strong> <span data-es="El sistema compara el nombre de la subcuenta con los registros de la base de datos usando el ID de ubicación asociado" data-en="System compares subaccount name to database records using associated location ID">El sistema compara el nombre de la subcuenta con los registros de la base de datos usando el ID de ubicación asociado</span></li>
                </ul>

                <div class="info-box">
                    <p data-es="Este proceso automatizado garantiza que cada cuenta nueva esté configurada correctamente con todos los permisos y configuraciones necesarias según el segmento de negocio seleccionado. La automatización reduce errores humanos y acelera el tiempo de implementación."
                       data-en="This automated process ensures that each new account is correctly configured with all necessary permissions and settings according to the selected business segment. Automation reduces human errors and speeds up implementation time.">
                        Este proceso automatizado garantiza que cada cuenta nueva esté configurada correctamente con todos los permisos y configuraciones necesarias según el segmento de negocio seleccionado. La automatización reduce errores humanos y acelera el tiempo de implementación.
                    </p>
                </div>
            </section>

            <section id="users" class="section">
                <h2 data-es="4. Gestión de Usuarios" data-en="4. User Management">4. Gestión de Usuarios</h2>

                <h3 data-es="4.1 Agregar Usuarios del Cliente" data-en="4.1 Adding Client Users">4.1 Agregar Usuarios del Cliente</h3>
                
                <div class="media-container">
                    <iframe src="https://www.loom.com/embed/1654419ba023412bba3549c90c03ff86" allowfullscreen></iframe>
                    <div class="media-caption" data-es="Video tutorial que muestra cómo agregar nuevos usuarios al sistema. El proceso es intuitivo y garantiza que cada usuario sea asignado correctamente a su cuenta correspondiente con los permisos adecuados."
                         data-en="Video tutorial showing how to add new users to the system. The process is intuitive and ensures that each user is correctly assigned to their corresponding account with appropriate permissions.">
                        Video tutorial que muestra cómo agregar nuevos usuarios al sistema. El proceso es intuitivo y garantiza que cada usuario sea asignado correctamente a su cuenta correspondiente con los permisos adecuados.
                    </div>
                </div>

                <div class="media-container">
                    <button class="expand-btn" onclick="expandImage(this)" data-es="Ver en pantalla completa" data-en="View fullscreen">Ver en pantalla completa</button>
                    <img src="https://storage.googleapis.com/msgsndr/stoLOEGDIvEDY3xQI4B8/media/68658870d60a23d7f2799f3a.jpeg" alt="Adding Users" onclick="expandImage(this)">
                    <div class="media-caption" data-es="Formulario de adición de usuarios ubicado en Sitios → Pestaña Formularios → Vista Previa. Este formulario captura toda la información necesaria del usuario y activa automáticamente el proceso de asignación mediante webhook. Es importante completar todos los campos requeridos para evitar errores en el procesamiento."
                         data-en="User addition form located in Sites → Forms Tab → Preview. This form captures all necessary user information and automatically triggers the assignment process via webhook. It's important to complete all required fields to avoid processing errors.">
                        Formulario de adición de usuarios ubicado en Sitios → Pestaña Formularios → Vista Previa. Este formulario captura toda la información necesaria del usuario y activa automáticamente el proceso de asignación mediante webhook. Es importante completar todos los campos requeridos para evitar errores en el procesamiento.
                    </div>
                </div>

                <ul>
                    <li><strong data-es="Navegación:" data-en="Navigation:">Navegación:</strong> <span data-es="Ir a Sitios → Pestaña Formularios → Vista Previa" data-en="Go to Sites → Forms tab → Preview">Ir a Sitios → Pestaña Formularios → Vista Previa</span></li>
                    <li><strong data-es="Completar Formulario:" data-en="Form Completion:">Completar Formulario:</strong> <span data-es="Llenar el formulario de información de contacto para nuevos usuarios" data-en="Fill out contact information form for new users">Llenar el formulario de información de contacto para nuevos usuarios</span></li>
                    <li><strong data-es="Procesamiento Backend:" data-en="Backend Processing:">Procesamiento Backend:</strong> <span data-es="El envío del formulario activa webhook al backend" data-en="Form submission triggers webhook to backend">El envío del formulario activa webhook al backend</span></li>
                    <li><strong data-es="Asignación de Usuario:" data-en="User Assignment:">Asignación de Usuario:</strong> <span data-es="El sistema asigna automáticamente al usuario a la cuenta correcta" data-en="System automatically assigns user to correct account">El sistema asigna automáticamente al usuario a la cuenta correcta</span></li>
                </ul>

                <h3 data-es="4.2 Notificaciones Automatizadas"
